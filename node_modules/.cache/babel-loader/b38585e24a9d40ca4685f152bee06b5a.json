{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\red-l\\\\frontend\\\\src\\\\components\\\\contact.js\";\nimport React from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass Contact extends React.Component {\n  constructor(props) {\n    super(props);\n    this.getCookie = this.getCookie.bind(this);\n    this.Updating = this.Updating.bind(this);\n    this.deleteItem = this.deleteItem.bind(this);\n  }\n\n  getCookie(name) {\n    var cookieValue = null;\n\n    if (document.cookie && document.cookie !== '') {\n      var cookies = document.cookie.split(';');\n\n      for (var i = 0; i < cookies.length; i++) {\n        var cookie = cookies[i].trim(); // Does this cookie string begin with the name we want?\n\n        if (cookie.substring(0, name.length + 1) === name + '=') {\n          cookieValue = decodeURIComponent(cookie.substring(name.length + 1));\n          break;\n        }\n      }\n    }\n\n    return cookieValue;\n  }\n\n  getContacts() {\n    fetch('http://127.0.0.1:8000/contacts-list/').then(response => response.json()).then(data => this.setState({\n      Contacts: data\n    }));\n  }\n\n  Updating(contact) {\n    console.log(contact);\n    this.props.State({\n      activeItem: contact,\n      update: true\n    });\n  }\n\n  deleteItem(contact) {\n    var csrftoken = this.getCookie('csrftoken');\n    fetch(`http://127.0.0.1:8000/contacts-delete/${contact.id}/`, {\n      method: 'DELETE',\n      headers: {\n        'Content-type': 'application/json',\n        'X-CSRFToken': csrftoken\n      }\n    }).then(response => {\n      this.getContacts();\n    });\n  }\n\n  render() {\n    console.log(this.props);\n    var contact = this.props.contact;\n    var self = this;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"contacts-wrapper flex-wrapper\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          flex: 7\n        },\n        children: /*#__PURE__*/_jsxDEV(\"span\", {\n          children: contact.name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 41\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 33\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          flex: 1\n        },\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => self.Updating(contact),\n          className: \"btn btn-sm btn-outline-info\",\n          children: \"Edit\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 37\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 33\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          flex: 1\n        },\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => self.deleteItem(contact),\n          className: \"btn btn-sm btn-outline-dark delete\",\n          children: \"-\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 37\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 33\n      }, this)]\n    }, contact.id, true, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 17\n    }, this);\n  }\n\n}\n\nexport default Contact;","map":{"version":3,"sources":["C:/Users/red-l/frontend/src/components/contact.js"],"names":["React","Contact","Component","constructor","props","getCookie","bind","Updating","deleteItem","name","cookieValue","document","cookie","cookies","split","i","length","trim","substring","decodeURIComponent","getContacts","fetch","then","response","json","data","setState","Contacts","contact","console","log","State","activeItem","update","csrftoken","id","method","headers","render","self","flex"],"mappings":"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","sourcesContent":["import React from 'react';\r\n\r\nclass Contact extends React.Component{\r\n     constructor(props){\r\n        super(props);\r\n        this.getCookie = this.getCookie.bind(this)\r\n        this.Updating = this.Updating.bind(this)\r\n        this.deleteItem = this.deleteItem.bind(this)\r\n    };\r\n    getCookie(name) {\r\n    var cookieValue = null;\r\n    if (document.cookie && document.cookie !== '') {\r\n        var cookies = document.cookie.split(';');\r\n        for (var i = 0; i < cookies.length; i++) {\r\n            var cookie = cookies[i].trim();\r\n            // Does this cookie string begin with the name we want?\r\n            if (cookie.substring(0, name.length + 1) === (name + '=')) {\r\n                cookieValue = decodeURIComponent(cookie.substring(name.length + 1));\r\n                break;\r\n            }\r\n        }\r\n      }\r\n      return cookieValue;\r\n    }\r\n    getContacts(){\r\n        fetch('http://127.0.0.1:8000/contacts-list/')\r\n        .then(response => response.json())\r\n        .then(data => \r\n          this.setState({\r\n            Contacts:data\r\n          })\r\n          )\r\n    }\r\n    Updating(contact){\r\n        console.log(contact)\r\n        this.props.State({\r\n          activeItem:contact,\r\n          update:true,\r\n        })\r\n    }\r\n\r\n    deleteItem(contact){\r\n        var csrftoken = this.getCookie('csrftoken')\r\n        fetch(`http://127.0.0.1:8000/contacts-delete/${contact.id}/`, {\r\n          method:'DELETE',\r\n          headers:{\r\n            'Content-type':'application/json',\r\n            'X-CSRFToken':csrftoken,\r\n          },\r\n        }).then((response) =>{\r\n\r\n          this.getContacts()\r\n        })\r\n    }\r\n    render(){\r\n        console.log(this.props)\r\n        var contact = this.props.contact\r\n        var self = this\r\n        return (\r\n                <div key={contact.id} className=\"contacts-wrapper flex-wrapper\">\r\n                                <div style={{flex:7}}>\r\n                                        <span>{contact.name}</span>\r\n                                </div>\r\n\r\n\r\n                                <div style={{flex:1}}>\r\n                                    <button onClick={() => self.Updating(contact)} className=\"btn btn-sm btn-outline-info\">Edit</button>\r\n                                </div>\r\n\r\n                                <div style={{flex:1}}>\r\n                                    <button onClick={() => self.deleteItem(contact)} className=\"btn btn-sm btn-outline-dark delete\">-</button>\r\n                                </div>\r\n               </div>\r\n        )\r\n    }\r\n}\r\n        \r\nexport default Contact;"]},"metadata":{},"sourceType":"module"}